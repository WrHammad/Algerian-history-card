<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© ØªØµÙ†ÙŠÙ Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø«ÙˆØ±Ø© Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠØ©</title>
    <!-- ØªØ­Ù…ÙŠÙ„ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Ø®Ø· Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø· Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Ù„Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© */
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #eef2ff; /* Ù„ÙˆÙ† Ø¨Ù†ÙØ³Ø¬ÙŠ ÙØ§ØªØ­ Ù„Ù„Ø®Ù„ÙÙŠØ© */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* ÙŠØ¨Ø¯Ø£ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰ */
            min-height: 100vh;
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        .container {
            width: 100%;
            max-width: 1024px; /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ø¹Ø¨ */
        }
        .card-container {
            min-height: 10rem; /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ù‡Ø§ØªÙ */
            border: 4px dashed #a78bfa;
            position: relative; /* Ø¶Ø±ÙˆØ±ÙŠ Ù„ØªÙ…ÙˆØ¶Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ø³Ù‚Ø·Ø© */
        }
        .draggable-card {
            cursor: grab;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            user-select: none; /* Ù„Ù…Ù†Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†Øµ */
            touch-action: none; /* Ù…Ù‡Ù… Ù„Ø¯Ø¹Ù… Ø§Ù„Ù„Ù…Ø³ Ø¨Ø´ÙƒÙ„ Ø³Ù„ÙŠÙ… */
        }
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ (Ø¨Ø·Ø§Ù‚ØªØ§Ù† ÙÙŠ Ø§Ù„ØµÙ) */
        .card-wrapper > .draggable-card {
            width: calc(50% - 0.5rem); /* Ø¨Ø·Ø§Ù‚ØªØ§Ù† ÙÙŠ Ø§Ù„ØµÙ Ù…Ø¹ Ù‡Ø§Ù…Ø´ */
        }
        @media (min-width: 640px) {
            /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù„ÙˆØ­ÙŠØ© (Ø«Ù„Ø§Ø« Ø¨Ø·Ø§Ù‚Ø§Øª ÙÙŠ Ø§Ù„ØµÙ) */
            .card-wrapper > .draggable-card {
                width: calc(33.333% - 0.5rem); 
            }
        }
        @media (min-width: 1024px) {
            /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø¹Ù„Ù‰ Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ (Ø®Ù…Ø³ Ø¨Ø·Ø§Ù‚Ø§Øª ÙÙŠ Ø§Ù„ØµÙ) */
            .card-wrapper > .draggable-card {
                width: calc(20% - 0.5rem); 
            }
        }

        .correct-card {
            background-color: #d1fae5 !important;
            border-color: #10b981 !important;
            opacity: 0.9;
            cursor: default;
        }
        .drag-over {
            border: 4px solid #10b981;
            background-color: #d1fae5;
        }
        .is-dragging {
            position: fixed; /* Ù„ØªØ·ÙÙˆ ÙÙˆÙ‚ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø®Ø±Ù‰ */
            z-index: 100;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
            transform: scale(1.1);
            opacity: 0.8;
            pointer-events: none; /* Ù„ØªØ³Ù…Ø­ Ø¨Ù…Ø±ÙˆØ± Ø§Ù„Ù„Ù…Ø³/Ø§Ù„Ù…Ø§ÙˆØ³ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ù†Ø§ØµØ± ØªØ­ØªÙ‡Ø§ */
        }
        .game-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 150;
        }
    </style>
</head>
<body class="p-4">

    <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„ÙÙˆØ²/Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ -->
    <div id="message-box" class="game-message hidden bg-white p-8 rounded-xl shadow-2xl border-4 border-indigo-500 max-w-sm text-center">
        <h3 id="message-title" class="text-3xl font-extrabold mb-4 text-indigo-700"></h3>
        <p id="message-text" class="text-lg text-gray-700 mb-6"></p>
        <button id="close-message" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-full transition duration-300 shadow-md">
            Ø¥ØºÙ„Ø§Ù‚
        </button>
    </div>

    <div class="container mx-auto p-4 bg-white rounded-2xl shadow-xl">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-black text-indigo-800 border-b-4 border-yellow-400 pb-2 inline-block">Ù„Ø¹Ø¨Ø© ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø­Ù‚Ø§Ø¦Ù‚</h1>
            <p class="text-lg sm:text-xl text-gray-600 mt-2">ØµÙ†Ù‘Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ÙÙŠ Ø§Ù„Ø­Ø¯Ø« Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ø§Ù„ØµØ­ÙŠØ­.</p>
        </header>

        <!-- Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¥Ø³Ù‚Ø§Ø· (Drop Zones) -->
        <div id="drop-zones-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
            <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„Ø³Ø­Ø¨ Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
        </div>

        <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø³Ø­Ø¨ (Draggable Cards) -->
        <div class="border-4 border-indigo-300 p-4 rounded-xl bg-indigo-50">
            <h2 class="text-xl sm:text-2xl font-bold text-indigo-800 mb-4">Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© (<span id="remaining-count">20</span>)</h2>
            <div id="draggable-cards-container" class="flex flex-wrap gap-2 justify-center card-wrapper">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
            </div>
        </div>

    </div>

    <script type="text/javascript">
        // ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (20 Ø¨Ø·Ø§Ù‚Ø© Ù…Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ 4 Ø£Ø­Ø¯Ø§Ø«)
        const eventsData = [
            {
                id: 'event-1954',
                name: 'Ø§Ù†Ø¯Ù„Ø§Ø¹ Ø§Ù„Ø«ÙˆØ±Ø© (Ù†ÙˆÙÙ…Ø¨Ø± 1954)',
                color: 'bg-red-600',
                borderColor: 'border-red-400',
                cards: [
                    'ØªØ£Ø³ÙŠØ³ Ø§Ù„Ù„Ø¬Ù†Ø© Ø§Ù„Ø«ÙˆØ±ÙŠØ© Ù„Ù„ÙˆØ­Ø¯Ø© ÙˆØ§Ù„Ø¹Ù…Ù„ (CRUA) ÙˆØ§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„Ù€ 22.',
                    'Ø´ÙƒÙ„Øª Ù„Ø¬Ù†Ø© Ø§Ù„Ø³ØªØ© Ø§Ù„Ù‚ÙŠØ§Ø¯ÙŠØ© ÙˆØªÙ… ØªØ³Ù…ÙŠØ© Ø§Ù„ØªÙ†Ø¸ÙŠÙ… Ø¨Ù€ "Ø¬Ø¨Ù‡Ø© Ø§Ù„ØªØ­Ø±ÙŠØ± Ø§Ù„ÙˆØ·Ù†ÙŠ".',
                    'ØªÙØ¬ÙŠØ± Ø§Ù„Ø«ÙˆØ±Ø© Ù„ÙŠÙ„Ø© 1 Ù†ÙˆÙÙ…Ø¨Ø± 1954 Ø¨Ø¹Ù…Ù„ÙŠØ§Øª ÙØ¯Ø§Ø¦ÙŠØ©.',
                    'ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø¥Ù„Ù‰ Ø®Ù…Ø³ Ù…Ù†Ø§Ø·Ù‚ (ÙˆÙ„Ø§ÙŠØ§Øª) Ù…Ø¹ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù„Ø§Ù…Ø±ÙƒØ²ÙŠØ©.',
                    'Ø¥Ø¹Ø¯Ø§Ø¯ "Ø¨ÙŠØ§Ù† Ø£ÙˆÙ„ Ù†ÙˆÙÙ…Ø¨Ø± 1954" ÙˆØ¥Ø°Ø§Ø¹ØªÙ‡ Ø¹Ø¨Ø± "ØµÙˆØª Ø§Ù„Ø¹Ø±Ø¨".'
                ]
            },
            {
                id: 'event-1955',
                name: 'Ù‡Ø¬ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ù…Ø§Ù„ Ø§Ù„Ù‚Ø³Ù†Ø·ÙŠÙ†ÙŠ (Ø£ÙˆØª 1955)',
                color: 'bg-green-600',
                borderColor: 'border-green-400',
                cards: [
                    'Ù…Ø¹Ø§Ù†Ø§Ø© Ø§Ù„Ø«ÙˆØ±Ø© Ù…Ù† Ø§Ù„Ø­ØµØ§Ø± ÙˆØ§Ù„ØªØµØ¹ÙŠØ¯ Ø§Ù„ÙØ±Ù†Ø³ÙŠ ÙÙŠ Ø§Ù„Ø£ÙˆØ±Ø§Ø³ Ù…Ù…Ø§ Ø£ÙˆØ¬Ø¨ ØªØ®ÙÙŠÙ Ø§Ù„Ø¶ØºØ·.',
                    'Ù‚Ø§Ø¯ Ø§Ù„ØªØ®Ø·ÙŠØ· Ø¯ÙŠØ¯ÙˆØ´ Ù…Ø±Ø§Ø¯ ÙˆØ®Ù„ÙÙ‡ Ø²ÙŠØºÙˆØ¯ ÙŠÙˆØ³Ù ÙˆØªÙ… Ø§Ø®ØªÙŠØ§Ø± ÙŠÙˆÙ… 20 Ø£ÙˆØª 1955.',
                    'ØªÙ†ÙÙŠØ° Ø³Ù„Ø³Ù„Ø© Ù…Ù† Ø§Ù„Ù‡Ø¬Ù…Ø§Øª Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†Ø© Ù†Ù‡Ø§Ø±Ø§Ù‹ Ù„Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙŠ Ù‚Ù„Ø¨ Ø§Ù„Ù…Ø¯Ù†.',
                    'Ø£Ø«Ø¨ØªØª Ø§Ù„Ù‡Ø¬Ù…Ø§Øª Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ© Ø§Ù„Ø«ÙˆØ±Ø© ÙˆØ¹Ù…Ù„Øª Ø¹Ù„Ù‰ ÙƒØ³Ø± Ø­Ø§Ø¬Ø² Ø§Ù„Ø®ÙˆÙ ÙˆØªØ¹Ù…ÙŠÙ… Ø§Ù„Ø«ÙˆØ±Ø© Ø´Ø¹Ø¨ÙŠØ§Ù‹.',
                    'Ø®Ø±ÙˆØ¬ Ø§Ù„Ù…Ø³ØªÙˆØ·Ù†ÙŠÙ† Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠÙŠÙ† ÙÙŠ Ù…Ø¸Ø§Ù‡Ø±Ø§Øª Ù…Ø¶Ø§Ø¯Ø© Ù„Ù„Ø«ÙˆØ±Ø© (Ø§Ù„Ø§Ø³ØªÙØ²Ø§Ø² ÙˆØ§Ù„Ø±Ø¯ Ø§Ù„Ù…Ø¶Ø§Ø¯).'
                ]
            },
            {
                id: 'event-1956',
                name: 'Ù…Ø¤ØªÙ…Ø± Ø§Ù„ØµÙˆÙ…Ø§Ù… (Ø£ÙˆØª 1956)',
                color: 'bg-blue-600',
                borderColor: 'border-blue-400',
                cards: [
                    'Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø¤ØªÙ…Ø± Ù„Ø¶Ø±ÙˆØ±Ø© Ù…Ø£Ø³Ø³Ø© Ø§Ù„Ø«ÙˆØ±Ø© ÙˆØªÙˆØ­ÙŠØ¯ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØªÙ‡Ø§ Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ© ÙˆØ§Ù„Ø³ÙŠØ§Ø³ÙŠØ©.',
                    'Ø¹Ù‚Ø¯ Ø§Ù„Ù…Ø¤ØªÙ…Ø± Ø³Ø±Ø§Ù‹ ÙÙŠ Ù…Ù†Ø·Ù‚Ø© Ø¥ÙŠÙØ±ÙŠ (ÙˆØ§Ø¯ÙŠ Ø§Ù„ØµÙˆÙ…Ø§Ù…) Ø¨Ø­Ø¶ÙˆØ± Ø§Ù„Ù‚Ø§Ø¯Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠÙŠÙ†.',
                    'Ø¥Ù‚Ø±Ø§Ø± Ù…Ø¨Ø¯Ø£ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø³ÙŠØ§Ø³ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠ ÙˆØ§Ù„ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ Ù…Ø¨Ø¯Ø£ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©.',
                    'Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„ØªØ´Ø±ÙŠØ¹ÙŠØ© Ø§Ù„Ø¹Ù„ÙŠØ§ (Ø§Ù„Ù…Ø¬Ù„Ø³ Ø§Ù„ÙˆØ·Ù†ÙŠ Ù„Ù„Ø«ÙˆØ±Ø©) ÙˆØ§Ù„ØªÙ†ÙÙŠØ°ÙŠØ© (Ù„Ø¬Ù†Ø© Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ ÙˆØ§Ù„ØªÙ†ÙÙŠØ°).',
                    'ØªÙ‚Ù†ÙŠÙ† ÙˆØªÙˆØ­ÙŠØ¯ Ø§Ù„Ø±ØªØ¨ Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ© ÙˆØªØ¨Ù†ÙŠ "Ù„Ø§Ø¦Ø­Ø© Ø§Ù„ØµÙˆÙ…Ø§Ù…" ÙƒØ¯Ø³ØªÙˆØ± Ù„Ù„Ø«ÙˆØ±Ø©.'
                ]
            },
            {
                id: 'event-1960',
                name: 'Ù…Ø¸Ø§Ù‡Ø±Ø§Øª 11 Ø¯ÙŠØ³Ù…Ø¨Ø± 1960',
                color: 'bg-yellow-600',
                borderColor: 'border-yellow-400',
                cards: [
                    'Ø¬Ø§Ø¡Øª Ø§Ù„Ù…Ø¸Ø§Ù‡Ø±Ø§Øª Ø¨Ø§Ù„ØªØ²Ø§Ù…Ù† Ù…Ø¹ Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ Ø§Ù„ÙØ±Ù†Ø³ÙŠ Ø¯ÙŠØºÙˆÙ„ Ù„Ø§Ø³ØªØ¹Ø±Ø§Ø¶ "Ø³ÙŠØ§Ø³ØªÙ‡ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©".',
                    'Ø§Ù†Ø·Ù„Ù‚Øª Ø§Ù„Ù…Ø¸Ø§Ù‡Ø±Ø§Øª Ø§Ù„Ø­Ø§Ø´Ø¯Ø© Ù…Ù† Ø§Ù„Ø£Ø­ÙŠØ§Ø¡ Ø§Ù„Ø´Ø¹Ø¨ÙŠØ© Ø¨Ø§Ù„Ø¹Ø§ØµÙ…Ø© (Ø§Ù†Ø·Ù„Ø§Ù‚ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨).',
                    'ØªÙ… Ø±ÙØ¹ Ø§Ù„Ø¹Ù„Ù… Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠ ÙˆØ´Ø¹Ø§Ø± "ØªØ­ÙŠØ§ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø­Ø±Ø©" Ù„Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ø¨Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ Ø§Ù„ØªØ§Ù….',
                    'Ø§Ù„Ø±Ø¯ Ø§Ù„ÙØ±Ù†Ø³ÙŠ Ø§Ù„ÙˆØ­Ø´ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ù†Ù‚Ù„ Ø§Ù„Ù‚Ø¶ÙŠØ© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù…Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø© ÙˆØªØ¯ÙˆÙŠÙ„Ù‡Ø§.',
                    'Ø§Ù…ØªØ¯Ø§Ø¯ Ø§Ù„Ù…Ø¸Ø§Ù‡Ø±Ø§Øª Ø¥Ù„Ù‰ ÙˆÙ‡Ø±Ø§Ù† ÙˆÙ‚Ø³Ù†Ø·ÙŠÙ†Ø© ÙˆØºÙŠØ±Ù‡Ø§ Ù…Ù† Ø§Ù„Ù…Ø¯Ù† Ø§Ù„ÙƒØ¨Ø±Ù‰.'
                ]
            }
        ];

        let correctCardsCount = 0;
        const totalCards = eventsData.reduce((acc, event) => acc + event.cards.length, 0);

        // Ù…ØªØºÙŠØ±Ø§Øª ØªØªØ¨Ø¹ Ø§Ù„Ø³Ø­Ø¨
        let draggedCard = null;
        let originalPosition = { x: 0, y: 0 };
        let offset = { x: 0, y: 0 };
        let currentTouch = null;

        // ÙˆØ¸ÙŠÙØ© Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ (Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† alert())
        function showMessage(title, text) {
            document.getElementById('message-title').textContent = title;
            document.getElementById('message-text').textContent = text;
            document.getElementById('message-box').classList.remove('hidden');
        }

        document.getElementById('close-message').addEventListener('click', () => {
            document.getElementById('message-box').classList.add('hidden');
        });

        // 1. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¥Ø³Ù‚Ø§Ø· (Drop Zones)
        function createDropZones() {
            const container = document.getElementById('drop-zones-container');
            eventsData.forEach(event => {
                const zone = document.createElement('div');
                zone.id = event.id;
                zone.classList.add(
                    'drop-zone',
                    'card-container',
                    'p-3',
                    'rounded-xl',
                    event.borderColor,
                    'transition-all',
                    'duration-300'
                );
                zone.innerHTML = `
                    <h3 class="text-base sm:text-lg font-bold text-center text-white ${event.color} p-2 rounded-lg mb-2 shadow-md">${event.name}</h3>
                `;
                container.appendChild(zone);
            });
        }

        // 2. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø³Ø­Ø¨ (Draggable Cards)
        function createDraggableCards() {
            const container = document.getElementById('draggable-cards-container');
            let allCards = [];

            eventsData.forEach(event => {
                event.cards.forEach((cardText, index) => {
                    allCards.push({
                        text: cardText,
                        eventId: event.id,
                        uniqueId: `card-${event.id}-${index}`
                    });
                });
            });

            // Ø®Ù„Ø· ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
            allCards.sort(() => Math.random() - 0.5);

            allCards.forEach((card) => {
                const cardElement = document.createElement('div');
                cardElement.id = card.uniqueId;
                cardElement.classList.add(
                    'draggable-card',
                    'p-3',
                    'bg-white',
                    'text-gray-800',
                    'rounded-lg',
                    'border',
                    'border-gray-300',
                    'text-xs', /* Ø®Ø· Ø£ØµØºØ± Ù„Ù„Ù‡Ø§ØªÙ */
                    'sm:text-sm',
                    'font-medium',
                    'text-center'
                );
                cardElement.textContent = card.text;
                cardElement.dataset.correctEvent = card.eventId; // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù„Ù…Ø³ ÙˆØ§Ù„Ù…Ø§ÙˆØ³
                cardElement.addEventListener('mousedown', handleStart);
                cardElement.addEventListener('touchstart', handleStart);

                container.appendChild(cardElement);
            });

            // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©
            updateRemainingCount();
        }

        // --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª Ø§Ù„Ù…ÙˆØ­Ø¯Ø© Ù„Ù„Ù…Ø§ÙˆØ³ ÙˆØ§Ù„Ù„Ù…Ø³ ---

        function getCoords(e) {
            return e.touches ? {
                x: e.touches[0].clientX,
                y: e.touches[0].clientY
            } : {
                x: e.clientX,
                y: e.clientY
            };
        }

        function handleStart(e) {
            if (e.target.draggable === false || draggedCard) return; // Ù…Ù†Ø¹ Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ù…ØªØ¹Ø¯Ø¯

            draggedCard = e.target;
            const coords = getCoords(e);
            const rect = draggedCard.getBoundingClientRect();
            
            // Ø§Ø­ÙØ¸ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø£ØµÙ„ÙŠ
            originalPosition = { x: rect.left, y: rect.top };
            
            // Ø§Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø¤Ø´Ø±/Ø§Ù„Ù„Ù…Ø³ ÙˆØ­Ø§ÙØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
            offset = {
                x: coords.x - rect.left,
                y: coords.y - rect.top
            };

            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù„Ù„Ø³Ø­Ø¨
            draggedCard.classList.add('is-dragging');
            draggedCard.style.width = `${rect.width}px`; // ØªØ«Ø¨ÙŠØª Ø§Ù„Ø¹Ø±Ø¶ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø³Ø­Ø¨

            // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¥Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø¤Ø´Ø±/Ø§Ù„Ù„Ù…Ø³
            moveCard(coords.x - offset.x, coords.y - offset.y);

            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ø¥Ù†Ù‡Ø§Ø¡
            document.addEventListener('mousemove', handleMove);
            document.addEventListener('touchmove', handleMove);
            document.addEventListener('mouseup', handleEnd);
            document.addEventListener('touchend', handleEnd);
            document.addEventListener('touchcancel', handleEnd);
        }

        function handleMove(e) {
            if (!draggedCard) return;
            e.preventDefault(); // Ù…Ù†Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø³Ø­Ø¨

            const coords = getCoords(e);
            moveCard(coords.x - offset.x, coords.y - offset.y);
        }
        
        function moveCard(x, y) {
            draggedCard.style.left = `${x}px`;
            draggedCard.style.top = `${y}px`;
        }

        function handleEnd(e) {
            if (!draggedCard) return;

            // Ø¥Ø²Ø§Ù„Ø© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ø¥Ù†Ù‡Ø§Ø¡
            document.removeEventListener('mousemove', handleMove);
            document.removeEventListener('touchmove', handleMove);
            document.removeEventListener('mouseup', handleEnd);
            document.removeEventListener('touchend', handleEnd);
            document.removeEventListener('touchcancel', handleEnd);

            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©
            const coords = getCoords(e);
            const targetElement = document.elementFromPoint(coords.x, coords.y);
            const targetZone = targetElement ? targetElement.closest('.drop-zone') : null;
            
            checkDrop(targetZone);

            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© Ø§Ù„Ø³Ø­Ø¨
            draggedCard.classList.remove('is-dragging');
            draggedCard.style.position = '';
            draggedCard.style.left = '';
            draggedCard.style.top = '';
            draggedCard.style.width = ''; 
            draggedCard = null;
        }

        function checkDrop(targetZone) {
            if (!targetZone) {
                // Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥ÙÙ„Ø§Øª Ø¹Ù„Ù‰ Ù…Ù†Ø·Ù‚Ø© Ø¥Ø³Ù‚Ø§Ø·ØŒ ØªØ±Ø¬Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¥Ù„Ù‰ Ù…ÙƒØ§Ù†Ù‡Ø§
                return; 
            }

            const correctEventId = draggedCard.dataset.correctEvent;
            const droppedZoneId = targetZone.id;

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
            if (correctEventId === droppedZoneId) {
                // Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©
                draggedCard.classList.add('correct-card');
                draggedCard.draggable = false;
                
                // Ø¥Ø²Ø§Ù„Ø© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø³Ø­Ø¨ Ù„Ù…Ù†Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø³Ø­Ø¨
                draggedCard.removeEventListener('mousedown', handleStart);
                draggedCard.removeEventListener('touchstart', handleStart);

                // Ø¥Ø¹Ø§Ø¯Ø© ÙˆØ¶Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¯Ø§Ø®Ù„ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø³Ù‚Ø§Ø· ÙˆØªØµÙÙŠØ± Ø§Ù„Ù†Ù…Ø·
                draggedCard.style.all = 'unset';
                draggedCard.classList.add(
                    'draggable-card', 'correct-card', 'p-3', 'bg-white', 'text-gray-800', 
                    'rounded-lg', 'border', 'border-gray-300', 'text-xs', 'sm:text-sm',
                    'font-medium', 'text-center', 'mb-2', 'block', 'w-full' /* ØªØ£Ø®Ø° Ø¹Ø±Ø¶ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
                );
                targetZone.appendChild(draggedCard);

                correctCardsCount++;
                updateRemainingCount();

                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙÙˆØ²
                if (correctCardsCount === totalCards) {
                    showMessage(
                        "ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! ğŸ‰",
                        "Ù„Ù‚Ø¯ Ù†Ø¬Ø­Øª ÙÙŠ ØªØµÙ†ÙŠÙ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ ÙˆØ£ÙƒÙ…Ù„Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ Ù„Ù„Ø«ÙˆØ±Ø© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©!"
                    );
                }
            } else {
                // Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©
                showMessage(
                    "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!",
                    "Ù‡Ø°Ù‡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù„Ø§ ØªÙ†ØªÙ…ÙŠ Ø¥Ù„Ù‰ Ø­Ø¯Ø« " + targetZone.querySelector('h3').textContent + ". ÙÙƒØ± ÙÙŠ Ø³ÙŠØ§Ù‚Ù‡Ø§ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ."
                );
                // Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¥Ù„Ù‰ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø³Ø­Ø¨ (ÙŠØ¹ÙŠØ¯Ù‡Ø§ handleEnd)
            }
        }

        function updateRemainingCount() {
            document.getElementById('remaining-count').textContent = totalCards - correctCardsCount;
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©
        document.addEventListener('DOMContentLoaded', () => {
            createDropZones();
            createDraggableCards();
        });
    </script>

</body>
</html>